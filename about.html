<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About | Ariel Armoni</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .about-content { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 80px 5% 100px; 
            display: grid; 
            grid-template-columns: 1.1fr 1fr; 
            gap: 80px; 
            align-items: start; 
            direction: ltr;
        }
        .about-image img { width: 90%; height: auto; display: block; }
        .about-text { text-align: left; direction: ltr; }
        .about-text p { font-size: 17px; line-height: 1.65; margin-bottom: 25px; color: var(--main); }
        .clients-section { margin-top: 50px; }
        .clients-section h3 { font-size: 11px; text-transform: uppercase; letter-spacing: 2px; color: var(--muted); margin-bottom: 20px; }
        .clients-list { list-style: none; padding: 0; display: flex; flex-direction: column; gap: 12px; }
        .clients-list li { font-size: 14px; color: var(--main); border-bottom: 1px solid #f0f0f0; padding-bottom: 8px; max-width: 300px; }
        
        @media (max-width: 900px) {
            .about-content { grid-template-columns: 1fr; gap: 40px; }
            .about-image { order: -1; }
            .clients-list li { max-width: 100%; }
        }
    </style>
</head>
<body>
   <div id="site-wrapper">
        <header>
            <div class="nav-wrapper">
                <div class="main-nav-links">
                    <span class="nav-label" id="projects-trigger">Projects</span>
                    <a href="about.html" class="nav-label">About</a>
                    <a href="contact.html" class="nav-label">Contact</a>
                </div>
            </div>
            <a href="index.html" class="logo">ARIEL ARMONI</a>
            <div class="sub-logo" style="font-size: 13px; letter-spacing: 2px; color: #888; text-transform: uppercase; margin-top: 8px;">Exhibition Architecture</div>
        </header>

        <main class="about-content">
            <div class="about-text" id="about-text-container">
                </div>
            <div class="about-image">
                <img src="images/profile.jpg" alt="Ariel Armoni">
            </div>
        </main>
    </div>

    <script src="sidebar.js"></script>
    <script>
        async function loadAboutContent() {
            const container = document.getElementById('about-text-container');
            try {
                // משיכת הקובץ מהשרת (עם v כדי למנוע Cache)
                const res = await fetch(`about_content.txt?v=${Date.now()}`);
                if (!res.ok) throw new Error("Could not load about_content.txt");
                
                const fullText = await res.text();
                
                // הפרדה בין פסקאות הטקסט לרשימת הלקוחות
                const parts = fullText.split("CLIENTS:");
                const paragraphs = parts[0].trim().split(/\r?\n\r?\n/);
                const clients = parts[1] ? parts[1].trim().split(/\r?\n/) : [];

                let htmlContent = "";

                // יצירת פסקאות הטקסט
                paragraphs.forEach(p => {
                    if (p.trim()) htmlContent += `<p>${p.trim()}</p>`;
                });

                // יצירת רשימת הלקוחות (אם קיימת)
                if (clients.length > 0) {
                    htmlContent += `
                        <div class="clients-section">
                            <h3>Selected Clients</h3>
                            <ul class="clients-list">
                                ${clients.map(c => `<li>${c.trim()}</li>`).join('')}
                            </ul>
                        </div>`;
                }

                container.innerHTML = htmlContent;
            } catch (e) {
                console.error(e);
                container.innerHTML = "<p>Error loading content. Please ensure about_content.txt exists.</p>";
            }
        }

        window.addEventListener('DOMContentLoaded', loadAboutContent);
    </script>
</body>
</html>
